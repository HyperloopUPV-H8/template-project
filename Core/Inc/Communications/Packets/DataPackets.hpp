#pragma once
#include "ST-LIB.hpp"

//Data packets for VCU -AUTOGENERATED CODE, DO NOT MODIFY-
class DataPackets{
    enum class state:uint8_t
    {
    ON=0,
    OFF=1
    };

    

    private:
        constexpr static size_t size=18;
        inline static uint32_t id{0};
    public:
        static std::array<StackPacket*,size> packets; 
        inline static StackPacket* Reeds =nullptr;
        

        inline static ServerSocket* control_station_tcp = nullptr;
        inline static DatagramSocket* control_station_udp = nullptr;
        
        
    DataPackets(state &state)
{   
    control_station_tcp = new ServerSocket("192.168.1.3",50500);
    
    control_station_udp = new DatagramSocket("192.168.1.3",50400,"192.168.0.9",50400);
    
    
    Reeds = new StackPacket(251,state);
    packets[id]=Reeds;
    id++;

    
    Time::register_low_precision_alarm(16.67,+[](){
         DataPackets::control_station_udp->send_packet(*DataPackets::Reeds);
        
    });
    


}
};