#pragma once
#include "ST-LIB.hpp"

//Data packets for VCU -AUTOGENERATED CODE, DO NOT MODIFY-
class DataPackets{
    public:
    enum class state:uint8_t
    {
    ON=0,
    OFF=1
    };

    

    private:
        inline static uint32_t id{0};
    public:
        static inline HeapPacket* Reeds{};
        

        static inline ServerSocket* control_station_tcp = nullptr;
        static inline DatagramSocket* control_station_udp = nullptr;
        
        
    DataPackets(state &state)
{   
    control_station_tcp = new ServerSocket("192.168.1.3",50500);
    
    control_station_udp = new DatagramSocket("192.168.1.3",50400,"192.168.0.9",50400);
    
    
    Reeds = new HeapPacket(static_cast<uint16_t>(251),&state);

    
    Time::register_low_precision_alarm(16.67,+[](){
         DataPackets::control_station_udp->send_packet(*DataPackets::Reeds);
        
    });
    


}
};